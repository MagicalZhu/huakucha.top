// vite.config.ts
import path from "path";
import { defineConfig } from "vite";
import Vue from "@vitejs/plugin-vue";
import Pages from "vite-plugin-pages";
import generateSitemap from "vite-ssg-sitemap";
import Layouts from "vite-plugin-vue-layouts";
import Components from "unplugin-vue-components/vite";
import AutoImport from "unplugin-auto-import/vite";
import Markdown from "vite-plugin-vue-markdown";
import VueI18n from "@intlify/vite-plugin-vue-i18n";
import Inspect from "vite-plugin-inspect";
import Unocss from "unocss/vite";

// node/resolveBlog.ts
import { resolve } from "path";
import fs from "fs-extra";
import matter from "gray-matter";
import dayjs from "dayjs";
var __vite_injected_original_dirname = "/Users/yoey/Desktop/vitesseDoc/node";
var resolveBlogFile = (route) => {
  if (!route.path.startsWith("/posts") || route.path === "/posts")
    return;
  const path2 = resolve(__vite_injected_original_dirname, "..", route.component.slice(1));
  const md = fs.readFileSync(path2, "utf-8");
  const { content, data } = matter(md);
  route.meta = Object.assign(route.meta || {}, {
    path: route.path,
    frontmatter: data,
    layout: "post",
    date: route.path.substring(7, 17),
    readingTime: readingTime(content)
  });
  return route;
};
var resolveBlogList = (routes) => {
  const blogs = routes.filter((item) => item.meta?.layout === "post").map((item) => ({
    path: item.path,
    title: item.meta.frontmatter.title,
    date: item.meta.date
  })).sort((a, b) => dayjs(b.date).unix() - dayjs(a.date).unix());
  return routes.map((item) => {
    const i = blogs.findIndex((blog) => blog.path === item.path);
    item.meta = {
      ...item.meta,
      prev: i < blogs.length ? blogs[i + 1] : null,
      next: i > 0 ? blogs[i - 1] : null
    };
    return item;
  });
};

// node/readingTime.ts
var getNumCN = (text) => {
  return (text.match(/[\u4E00-\u9FA5]/g) || []).length;
};
var getNumEN = (text) => {
  return (text.replace(/[\u4E00-\u9FA5]/g, "").match(
    /[a-zA-Z0-9_\u0392-\u03C9\u0400-\u04FF]+|[\u4E00-\u9FFF\u3400-\u4DBF\uF900-\uFAFF\u3040-\u309F\uAC00-\uD7AF\u0400-\u04FF]+|[\u00E4\u00C4\u00E5\u00C5\u00F6\u00D6]+|\w+/g
  ) || []).length;
};
var excludeCodeBlock = (text) => {
  return text.replace(/```[\s\S]*?```/g, "");
};
var excludeTexBlock = (text) => {
  return text.replace(/\$\$[\s\S]*?\$\$/g, "");
};
var readingTime = (text, options) => {
  options = options || {};
  options.wordsPerMinuteCN = options.wordsPerMinuteCN || 300;
  options.wordsPerMinuteEN = options.wordsPerMinuteEN || 200;
  if (options.excludeCodeBlock)
    text = excludeCodeBlock(text);
  if (options.excludeTexBlock)
    text = excludeTexBlock(text);
  const cntCN = getNumCN(text || "");
  const cntEN = getNumEN(text || "");
  let minutes = cntCN / options.wordsPerMinuteCN + cntEN / options.wordsPerMinuteEN;
  minutes = minutes < 1 ? 1 : Math.ceil(Number(minutes.toFixed(2)));
  return {
    minutes,
    words: cntCN + cntEN
  };
};

// node/installMarkdownPlugins.ts
import Shiki from "markdown-it-shiki";
import LinkAttributes from "markdown-it-link-attributes";
import TOC from "markdown-it-table-of-contents";
import anchor from "markdown-it-anchor";
import { slugify } from "@renovamen/utils";
var installMarkdownPlugins = (md) => {
  md.use(Shiki, {
    theme: {
      light: "vitesse-light",
      dark: "vitesse-dark"
    }
  });
  md.use(anchor, {
    slugify,
    permalink: anchor.permalink.linkInsideHeader({
      symbol: "#",
      renderAttrs: () => ({ "aria-hidden": "true" })
    })
  });
  md.use(LinkAttributes, {
    matcher: (link) => /^https?:\/\//.test(link),
    attrs: {
      target: "_blank",
      rel: "noopener"
    }
  });
  md.use(TOC, {
    includeLevel: [1, 2, 3, 4, 5, 6],
    slugify
  });
};

// vite.config.ts
var __vite_injected_original_dirname2 = "/Users/yoey/Desktop/vitesseDoc";
var vite_config_default = defineConfig({
  resolve: {
    alias: {
      "~/": `${path.resolve(__vite_injected_original_dirname2, "src")}/`
    }
  },
  plugins: [
    Vue({
      include: [/\.vue$/, /\.md$/],
      reactivityTransform: true
    }),
    Pages({
      dirs: [
        { dir: "pages", baseRoute: "" }
      ],
      extensions: ["vue", "md", "js", "ts"],
      extendRoute: (route) => resolveBlogFile(route),
      onRoutesGenerated: (routes) => resolveBlogList(routes)
    }),
    Layouts(),
    AutoImport({
      imports: [
        "vue",
        "vue-router",
        "vue-i18n",
        "vue/macros",
        "@vueuse/head",
        "@vueuse/core"
      ],
      dts: "src/auto-imports.d.ts",
      dirs: [
        "src/composables",
        "src/store"
      ],
      vueTemplate: true
    }),
    Components({
      extensions: ["vue", "md"],
      include: [/\.vue$/, /\.vue\?vue/, /\.md$/],
      dts: "src/components.d.ts"
    }),
    Unocss(),
    Markdown({
      wrapperClasses: "prose prose-lg m-auto text-left",
      headEnabled: true,
      markdownItSetup: (md) => installMarkdownPlugins(md)
    }),
    VueI18n({
      runtimeOnly: true,
      compositionOnly: true,
      include: [path.resolve(__vite_injected_original_dirname2, "locales/**")]
    }),
    Inspect()
  ],
  ssgOptions: {
    script: "async",
    formatting: "minify",
    onFinished() {
      generateSitemap();
    }
  },
  ssr: {
    noExternal: ["workbox-window", /vue-i18n/]
  }
});
export {
  vite_config_default as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsidml0ZS5jb25maWcudHMiLCAibm9kZS9yZXNvbHZlQmxvZy50cyIsICJub2RlL3JlYWRpbmdUaW1lLnRzIiwgIm5vZGUvaW5zdGFsbE1hcmtkb3duUGx1Z2lucy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiY29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2Rpcm5hbWUgPSBcIi9Vc2Vycy95b2V5L0Rlc2t0b3Avdml0ZXNzZURvY1wiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9maWxlbmFtZSA9IFwiL1VzZXJzL3lvZXkvRGVza3RvcC92aXRlc3NlRG9jL3ZpdGUuY29uZmlnLnRzXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ltcG9ydF9tZXRhX3VybCA9IFwiZmlsZTovLy9Vc2Vycy95b2V5L0Rlc2t0b3Avdml0ZXNzZURvYy92aXRlLmNvbmZpZy50c1wiO2ltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXG5pbXBvcnQgeyBkZWZpbmVDb25maWcgfSBmcm9tICd2aXRlJ1xuaW1wb3J0IFZ1ZSBmcm9tICdAdml0ZWpzL3BsdWdpbi12dWUnXG5pbXBvcnQgUGFnZXMgZnJvbSAndml0ZS1wbHVnaW4tcGFnZXMnXG5pbXBvcnQgZ2VuZXJhdGVTaXRlbWFwIGZyb20gJ3ZpdGUtc3NnLXNpdGVtYXAnXG5pbXBvcnQgTGF5b3V0cyBmcm9tICd2aXRlLXBsdWdpbi12dWUtbGF5b3V0cydcbmltcG9ydCBDb21wb25lbnRzIGZyb20gJ3VucGx1Z2luLXZ1ZS1jb21wb25lbnRzL3ZpdGUnXG5pbXBvcnQgQXV0b0ltcG9ydCBmcm9tICd1bnBsdWdpbi1hdXRvLWltcG9ydC92aXRlJ1xuaW1wb3J0IE1hcmtkb3duIGZyb20gJ3ZpdGUtcGx1Z2luLXZ1ZS1tYXJrZG93bidcbmltcG9ydCBWdWVJMThuIGZyb20gJ0BpbnRsaWZ5L3ZpdGUtcGx1Z2luLXZ1ZS1pMThuJ1xuaW1wb3J0IEluc3BlY3QgZnJvbSAndml0ZS1wbHVnaW4taW5zcGVjdCdcbmltcG9ydCBVbm9jc3MgZnJvbSAndW5vY3NzL3ZpdGUnXG5cbmltcG9ydCB7XG4gIHJlc29sdmVCbG9nRmlsZSxcbiAgcmVzb2x2ZUJsb2dMaXN0LFxuICBpbnN0YWxsTWFya2Rvd25QbHVnaW5zXG59IGZyb20gXCIuL25vZGVcIjtcblxuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29uZmlnKHtcbiAgcmVzb2x2ZToge1xuICAgIGFsaWFzOiB7XG4gICAgICAnfi8nOiBgJHtwYXRoLnJlc29sdmUoX19kaXJuYW1lLCAnc3JjJyl9L2AsXG4gICAgfSxcbiAgfSxcblxuICBwbHVnaW5zOiBbXG4gICAgVnVlKHtcbiAgICAgIGluY2x1ZGU6IFsvXFwudnVlJC8sIC9cXC5tZCQvXSxcbiAgICAgIHJlYWN0aXZpdHlUcmFuc2Zvcm06IHRydWUsXG4gICAgfSksXG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gXHU1N0ZBXHU0RThFXHU2NTg3XHU0RUY2XHU3Njg0XHU4REVGXHU3NTMxXG4gICAgICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vaGFubm9lcnUvdml0ZS1wbHVnaW4tcGFnZXNcbiAgICAgKi9cbiAgICBQYWdlcyh7XG4gICAgICBkaXJzOiBbXG4gICAgICAgIHsgZGlyOiAncGFnZXMnLCBiYXNlUm91dGU6ICcnIH0sXG4gICAgICBdLFxuICAgICAgZXh0ZW5zaW9uczogW1widnVlXCIsIFwibWRcIiwgXCJqc1wiLCBcInRzXCJdLFxuICAgICAgLy8gQSBmdW5jdGlvbiB0aGF0IHRha2VzIGEgcm91dGUgYW5kIG9wdGlvbmFsbHkgcmV0dXJucyBhIG1vZGlmaWVkIHJvdXRlXG4gICAgICAvLyBUaGlzIGlzIHVzZWZ1bCBmb3IgYXVnbWVudGluZyB5b3VyIHJvdXRlcyB3aXRoIGV4dHJhIGRhdGEgKGUuZy4gcm91dGUgbWV0YWRhdGEpLlxuICAgICAgZXh0ZW5kUm91dGU6IChyb3V0ZSkgPT4gcmVzb2x2ZUJsb2dGaWxlKHJvdXRlKSxcbiAgICAgIC8vIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIGdlbmVyYXRlZCByb3V0ZXMgYW5kIG9wdGlvbmFsbHkgcmV0dXJucyBhIG1vZGlmaWVkIGdlbmVyYXRlZCByb3V0ZXMuXG4gICAgICBvblJvdXRlc0dlbmVyYXRlZDogKHJvdXRlcykgPT4gcmVzb2x2ZUJsb2dMaXN0KHJvdXRlcylcbiAgICB9KSxcblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBcdTVFMDNcdTVDNDBcdTdDRkJcdTdFREZcbiAgICAgKiBAc2VlICBodHRwczovL2dpdGh1Yi5jb20vSm9obkNhbXBpb25Kci92aXRlLXBsdWdpbi12dWUtbGF5b3V0c1xuICAgICAqL1xuICAgIExheW91dHMoKSxcblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBBUEkgXHU4MUVBXHU1MkE4XHU1MkEwXHU4RjdEIC0gXHU3NkY0XHU2M0E1XHU0RjdGXHU3NTI4IENvbXBvc2l0aW9uIEFQSSBcdTY1RTBcdTk3MDBcdTVGMTVcdTUxNjVcbiAgICAgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbnRmdS91bnBsdWdpbi1hdXRvLWltcG9ydFxuICAgICAqL1xuICAgIEF1dG9JbXBvcnQoe1xuICAgICAgaW1wb3J0czogW1xuICAgICAgICAndnVlJyxcbiAgICAgICAgJ3Z1ZS1yb3V0ZXInLFxuICAgICAgICAndnVlLWkxOG4nLFxuICAgICAgICAndnVlL21hY3JvcycsXG4gICAgICAgICdAdnVldXNlL2hlYWQnLFxuICAgICAgICAnQHZ1ZXVzZS9jb3JlJyxcbiAgICAgIF0sXG4gICAgICBkdHM6ICdzcmMvYXV0by1pbXBvcnRzLmQudHMnLFxuICAgICAgZGlyczogW1xuICAgICAgICAnc3JjL2NvbXBvc2FibGVzJyxcbiAgICAgICAgJ3NyYy9zdG9yZScsXG4gICAgICBdLFxuICAgICAgdnVlVGVtcGxhdGU6IHRydWUsXG4gICAgfSksXG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gXHU3RUM0XHU0RUY2XHU4MUVBXHU1MkE4XHU1MzE2XHU1MkEwXHU4RjdEXG4gICAgICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vYW50ZnUvdW5wbHVnaW4tdnVlLWNvbXBvbmVudHNcbiAgICAgKi9cbiAgICBDb21wb25lbnRzKHtcbiAgICAgIGV4dGVuc2lvbnM6IFsndnVlJywgJ21kJ10sXG4gICAgICBpbmNsdWRlOiBbL1xcLnZ1ZSQvLCAvXFwudnVlXFw/dnVlLywgL1xcLm1kJC9dLFxuICAgICAgZHRzOiAnc3JjL2NvbXBvbmVudHMuZC50cycsXG4gICAgfSksXG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gXHU5QUQ4XHU2MDI3XHU4MEZEXHU0RTE0XHU2NzgxXHU1MTc3XHU3MDc1XHU2RDNCXHU2MDI3XHU3Njg0XHU1MzczXHU2NUY2XHU1MzlGXHU1QjUwXHU1MzE2IENTUyBcdTVGMTVcdTY0Q0UsIHNlZSB1bm9jc3MuY29uZmlnLnRzIGZvciBjb25maWdcbiAgICAgKiBAc2VlICBodHRwczovL2dpdGh1Yi5jb20vYW50ZnUvdW5vY3NzXG4gICAgICovXG4gICAgVW5vY3NzKCksXG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbnRmdS92aXRlLXBsdWdpbi12dWUtbWFya2Rvd25cbiAgICAgKiBAc2VlIGh0dHBzOi8vbWFya2Rvd24taXQuZ2l0aHViLmlvL21hcmtkb3duLWl0L1xuICAgICAqL1xuICAgIE1hcmtkb3duKHtcbiAgICAgIHdyYXBwZXJDbGFzc2VzOiBcInByb3NlIHByb3NlLWxnIG0tYXV0byB0ZXh0LWxlZnRcIixcbiAgICAgIGhlYWRFbmFibGVkOiB0cnVlLFxuICAgICAgbWFya2Rvd25JdFNldHVwOiAobWQpID0+IGluc3RhbGxNYXJrZG93blBsdWdpbnMobWQpXG4gICAgfSksXG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9pbnRsaWZ5L2J1bmRsZS10b29scy90cmVlL21haW4vcGFja2FnZXMvdml0ZS1wbHVnaW4tdnVlLWkxOG5cbiAgICAgKi9cbiAgICBWdWVJMThuKHtcbiAgICAgIHJ1bnRpbWVPbmx5OiB0cnVlLFxuICAgICAgY29tcG9zaXRpb25Pbmx5OiB0cnVlLFxuICAgICAgaW5jbHVkZTogW3BhdGgucmVzb2x2ZShfX2Rpcm5hbWUsICdsb2NhbGVzLyoqJyldLFxuICAgIH0pLFxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiAgVmlzaXQgaHR0cDovL2hvc3Q6cG9ydC9fX2luc3BlY3QvIHRvIHNlZSB0aGUgaW5zcGVjdG9yXG4gICAgICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vYW50ZnUvdml0ZS1wbHVnaW4taW5zcGVjdFxuICAgICAqL1xuICAgIEluc3BlY3QoKSxcbiAgXSxcblxuXG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbnRmdS92aXRlLXNzZ1xuICAgKi9cbiAgc3NnT3B0aW9uczoge1xuICAgIHNjcmlwdDogJ2FzeW5jJyxcbiAgICBmb3JtYXR0aW5nOiAnbWluaWZ5JyxcbiAgICBvbkZpbmlzaGVkKCkgeyBnZW5lcmF0ZVNpdGVtYXAoKSB9LFxuICB9LFxuXG4gIHNzcjoge1xuICAgIC8vIFRPRE86IHdvcmthcm91bmQgdW50aWwgdGhleSBzdXBwb3J0IG5hdGl2ZSBFU01cbiAgICBub0V4dGVybmFsOiBbJ3dvcmtib3gtd2luZG93JywgL3Z1ZS1pMThuL10sXG4gIH0sXG59KVxuIiwgImNvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9kaXJuYW1lID0gXCIvVXNlcnMveW9leS9EZXNrdG9wL3ZpdGVzc2VEb2Mvbm9kZVwiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9maWxlbmFtZSA9IFwiL1VzZXJzL3lvZXkvRGVza3RvcC92aXRlc3NlRG9jL25vZGUvcmVzb2x2ZUJsb2cudHNcIjtjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfaW1wb3J0X21ldGFfdXJsID0gXCJmaWxlOi8vL1VzZXJzL3lvZXkvRGVza3RvcC92aXRlc3NlRG9jL25vZGUvcmVzb2x2ZUJsb2cudHNcIjtpbXBvcnQgeyByZXNvbHZlIH0gZnJvbSAncGF0aCdcbmltcG9ydCBmcyBmcm9tICdmcy1leHRyYSdcbmltcG9ydCBtYXR0ZXIgZnJvbSAnZ3JheS1tYXR0ZXInXG5pbXBvcnQgZGF5anMgZnJvbSAnZGF5anMnXG5pbXBvcnQgeyByZWFkaW5nVGltZSB9IGZyb20gJy4nXG5cbmV4cG9ydCBjb25zdCByZXNvbHZlQmxvZ0ZpbGUgPSAocm91dGU6IGFueSkgPT4ge1xuICBpZiAoIXJvdXRlLnBhdGguc3RhcnRzV2l0aCgnL3Bvc3RzJykgfHwgcm91dGUucGF0aCA9PT0gJy9wb3N0cycpXG4gICAgcmV0dXJuXG5cbiAgY29uc3QgcGF0aCA9IHJlc29sdmUoX19kaXJuYW1lLCAnLi4nLCByb3V0ZS5jb21wb25lbnQuc2xpY2UoMSkpXG4gIGNvbnN0IG1kID0gZnMucmVhZEZpbGVTeW5jKHBhdGgsICd1dGYtOCcpXG4gIGNvbnN0IHsgY29udGVudCwgZGF0YSB9ID0gbWF0dGVyKG1kKVxuXG4gIHJvdXRlLm1ldGEgPSBPYmplY3QuYXNzaWduKHJvdXRlLm1ldGEgfHwge30sIHtcbiAgICBwYXRoOnJvdXRlLnBhdGgsXG4gICAgZnJvbnRtYXR0ZXI6IGRhdGEsXG4gICAgbGF5b3V0OiAncG9zdCcsXG4gICAgZGF0ZTogcm91dGUucGF0aC5zdWJzdHJpbmcoNywgMTcpLFxuICAgIHJlYWRpbmdUaW1lOiByZWFkaW5nVGltZShjb250ZW50KSxcbiAgfSlcblxuICByZXR1cm4gcm91dGVcbn1cblxuZXhwb3J0IGNvbnN0IHJlc29sdmVCbG9nTGlzdCA9IChyb3V0ZXM6IGFueVtdKSA9PiB7XG4gIGNvbnN0IGJsb2dzID0gcm91dGVzXG4gICAgLmZpbHRlcigoaXRlbTogYW55KSA9PiBpdGVtLm1ldGE/LmxheW91dCA9PT0gJ3Bvc3QnKVxuICAgIC5tYXAoKGl0ZW06IGFueSkgPT4gKHtcbiAgICAgIHBhdGg6IGl0ZW0ucGF0aCxcbiAgICAgIHRpdGxlOiBpdGVtLm1ldGEuZnJvbnRtYXR0ZXIudGl0bGUsXG4gICAgICBkYXRlOiBpdGVtLm1ldGEuZGF0ZSxcbiAgICB9KSlcbiAgICAuc29ydCgoYTogYW55LCBiOiBhbnkpID0+IGRheWpzKGIuZGF0ZSkudW5peCgpIC0gZGF5anMoYS5kYXRlKS51bml4KCkpXG5cbiAgcmV0dXJuIHJvdXRlcy5tYXAoKGl0ZW0pID0+IHtcbiAgICBjb25zdCBpID0gYmxvZ3MuZmluZEluZGV4KGJsb2cgPT4gYmxvZy5wYXRoID09PSBpdGVtLnBhdGgpXG5cbiAgICBpdGVtLm1ldGEgPSB7XG4gICAgICAuLi5pdGVtLm1ldGEsXG4gICAgICBwcmV2OiBpIDwgYmxvZ3MubGVuZ3RoID8gYmxvZ3NbaSArIDFdIDogbnVsbCxcbiAgICAgIG5leHQ6IGkgPiAwID8gYmxvZ3NbaSAtIDFdIDogbnVsbCxcbiAgICB9XG5cbiAgICByZXR1cm4gaXRlbVxuICB9KVxufVxuIiwgImNvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9kaXJuYW1lID0gXCIvVXNlcnMveW9leS9EZXNrdG9wL3ZpdGVzc2VEb2Mvbm9kZVwiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9maWxlbmFtZSA9IFwiL1VzZXJzL3lvZXkvRGVza3RvcC92aXRlc3NlRG9jL25vZGUvcmVhZGluZ1RpbWUudHNcIjtjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfaW1wb3J0X21ldGFfdXJsID0gXCJmaWxlOi8vL1VzZXJzL3lvZXkvRGVza3RvcC92aXRlc3NlRG9jL25vZGUvcmVhZGluZ1RpbWUudHNcIjtleHBvcnQgaW50ZXJmYWNlIFJlYWRpbmdUaW1lT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBOdW1iZXIgb2YgQ2hpbmVzZSB3b3JkcyBwZXIgbWludXRlIGEgdXNlciBjYW4gcmVhZFxuICAgKlxuICAgKiBAZGVmYXVsdCAzMDBcbiAgICovXG4gIHdvcmRzUGVyTWludXRlQ04/OiBudW1iZXJcblxuICAvKipcbiAgICogTnVtYmVyIG9mIEVuZ2xpc2ggd29yZHMgcGVyIG1pbnV0ZSBhIHVzZXIgY2FuIHJlYWRcbiAgICpcbiAgICogQGRlZmF1bHQgMjAwXG4gICAqL1xuICB3b3Jkc1Blck1pbnV0ZUVOPzogbnVtYmVyXG5cbiAgLyoqXG4gICAqIEV4Y2x1ZGVzIGFsbCBjb250ZW50IGluc2lkZSBjb2RlIGJsb2NrcyBvciBub3RcbiAgICpcbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGV4Y2x1ZGVDb2RlQmxvY2s/OiBib29sZWFuXG5cbiAgLyoqXG4gICAqIEV4Y2x1ZGVzIGFsbCBjb250ZW50IGluc2lkZSB0ZXggYmxvY2tzIG9yIG5vdFxuICAgKlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZXhjbHVkZVRleEJsb2NrPzogYm9vbGVhblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlYWRpbmdUaW1lIHtcbiAgLyoqXG4gICAqIEV4cGVjdCByZWFkaW5nIHRpbWUgKG51bWJlciBvZiBtaW51dGVzKVxuICAgKi9cbiAgbWludXRlczogbnVtYmVyXG4gIC8qKlxuICAgKiBOdW1iZXIgb2Ygd29yZHMgb2YgdGhlIHBhZ2VcbiAgICovXG4gIHdvcmRzOiBudW1iZXJcbn1cblxuY29uc3QgZ2V0TnVtQ04gPSAodGV4dDogc3RyaW5nKTogbnVtYmVyID0+IHtcbiAgcmV0dXJuICh0ZXh0Lm1hdGNoKC9bXFx1NEUwMC1cXHU5RkE1XS9nKSB8fCBbXSkubGVuZ3RoXG59XG5cbmNvbnN0IGdldE51bUVOID0gKHRleHQ6IHN0cmluZyk6IG51bWJlciA9PiB7XG4gIHJldHVybiAoXG4gICAgdGV4dFxuICAgICAgLnJlcGxhY2UoL1tcXHU0RTAwLVxcdTlGQTVdL2csICcnKVxuICAgICAgLm1hdGNoKFxuICAgICAgICAvW2EtekEtWjAtOV9cXHUwMzkyLVxcdTAzQzlcXHUwNDAwLVxcdTA0RkZdK3xbXFx1NEUwMC1cXHU5RkZGXFx1MzQwMC1cXHU0REJGXFx1RjkwMC1cXHVGQUZGXFx1MzA0MC1cXHUzMDlGXFx1QUMwMC1cXHVEN0FGXFx1MDQwMC1cXHUwNEZGXSt8W1xcdTAwRTRcXHUwMEM0XFx1MDBFNVxcdTAwQzVcXHUwMEY2XFx1MDBENl0rfFxcdysvZyxcbiAgICAgICkgfHwgW11cbiAgKS5sZW5ndGhcbn1cblxuY29uc3QgZXhjbHVkZUNvZGVCbG9jayA9ICh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICByZXR1cm4gdGV4dC5yZXBsYWNlKC9gYGBbXFxzXFxTXSo/YGBgL2csICcnKVxufVxuXG5jb25zdCBleGNsdWRlVGV4QmxvY2sgPSAodGV4dDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIHRleHQucmVwbGFjZSgvXFwkXFwkW1xcc1xcU10qP1xcJFxcJC9nLCAnJylcbn1cblxuZXhwb3J0IGNvbnN0IHJlYWRpbmdUaW1lID0gKFxuICB0ZXh0OiBzdHJpbmcsXG4gIG9wdGlvbnM/OiBSZWFkaW5nVGltZU9wdGlvbnMsXG4pOiBSZWFkaW5nVGltZSA9PiB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG5cbiAgLy8gdXNlIGRlZmF1bHQgdmFsdWVzIGlmIG5lY2Vzc2FyeVxuICBvcHRpb25zLndvcmRzUGVyTWludXRlQ04gPSBvcHRpb25zLndvcmRzUGVyTWludXRlQ04gfHwgMzAwXG4gIG9wdGlvbnMud29yZHNQZXJNaW51dGVFTiA9IG9wdGlvbnMud29yZHNQZXJNaW51dGVFTiB8fCAyMDBcblxuICAvLyBleGNsdWRlIGFsbCBjb250ZW50IGluc2lkZSBjb2RlIGJsb2Nrc1xuICBpZiAob3B0aW9ucy5leGNsdWRlQ29kZUJsb2NrKVxuICAgIHRleHQgPSBleGNsdWRlQ29kZUJsb2NrKHRleHQpXG4gIC8vIGV4Y2x1ZGUgYWxsIGNvbnRlbnQgaW5zaWRlIHRleCBibG9ja3NcbiAgaWYgKG9wdGlvbnMuZXhjbHVkZVRleEJsb2NrKVxuICAgIHRleHQgPSBleGNsdWRlVGV4QmxvY2sodGV4dClcblxuICAvLyBudW1iZXIgb2YgY2hpbmVzZSB3b3JkcyBhbmQgZW5nbGlzaCB3b3Jkc1xuICBjb25zdCBjbnRDTiA9IGdldE51bUNOKHRleHQgfHwgJycpXG4gIGNvbnN0IGNudEVOID0gZ2V0TnVtRU4odGV4dCB8fCAnJylcblxuICAvLyBjb21wdXRlIHJlYWRpbmcgdGltZVxuICBsZXQgbWludXRlc1xuICAgID0gY250Q04gLyBvcHRpb25zLndvcmRzUGVyTWludXRlQ04gKyBjbnRFTiAvIG9wdGlvbnMud29yZHNQZXJNaW51dGVFTlxuICBtaW51dGVzID0gbWludXRlcyA8IDEgPyAxIDogTWF0aC5jZWlsKE51bWJlcihtaW51dGVzLnRvRml4ZWQoMikpKVxuXG4gIHJldHVybiB7XG4gICAgbWludXRlcyxcbiAgICB3b3JkczogY250Q04gKyBjbnRFTixcbiAgfVxufVxuIiwgImNvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9kaXJuYW1lID0gXCIvVXNlcnMveW9leS9EZXNrdG9wL3ZpdGVzc2VEb2Mvbm9kZVwiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9maWxlbmFtZSA9IFwiL1VzZXJzL3lvZXkvRGVza3RvcC92aXRlc3NlRG9jL25vZGUvaW5zdGFsbE1hcmtkb3duUGx1Z2lucy50c1wiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9pbXBvcnRfbWV0YV91cmwgPSBcImZpbGU6Ly8vVXNlcnMveW9leS9EZXNrdG9wL3ZpdGVzc2VEb2Mvbm9kZS9pbnN0YWxsTWFya2Rvd25QbHVnaW5zLnRzXCI7aW1wb3J0IFNoaWtpIGZyb20gJ21hcmtkb3duLWl0LXNoaWtpJ1xuaW1wb3J0IExpbmtBdHRyaWJ1dGVzIGZyb20gJ21hcmtkb3duLWl0LWxpbmstYXR0cmlidXRlcydcbi8vIEB0cy1leHBlY3QtZXJyb3IgbWlzc2luZyB0eXBlc1xuaW1wb3J0IFRPQyBmcm9tICdtYXJrZG93bi1pdC10YWJsZS1vZi1jb250ZW50cydcbmltcG9ydCBhbmNob3IgZnJvbSAnbWFya2Rvd24taXQtYW5jaG9yJ1xuaW1wb3J0IHR5cGUgTWFya2Rvd25JdCBmcm9tICdtYXJrZG93bi1pdCdcbmltcG9ydCB7IHNsdWdpZnkgfSBmcm9tICdAcmVub3ZhbWVuL3V0aWxzJ1xuXG5leHBvcnQgY29uc3QgaW5zdGFsbE1hcmtkb3duUGx1Z2lucyA9IChtZDogTWFya2Rvd25JdCkgPT4ge1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3ByaXNtanMuY29tL1xuICAqL1xuICBtZC51c2UoU2hpa2ksIHtcbiAgICB0aGVtZToge1xuICAgICAgbGlnaHQ6ICd2aXRlc3NlLWxpZ2h0JyxcbiAgICAgIGRhcms6ICd2aXRlc3NlLWRhcmsnLFxuICAgIH0sXG4gIH0pXG5cbiAgbWQudXNlKGFuY2hvciwge1xuICAgIHNsdWdpZnksXG4gICAgcGVybWFsaW5rOiBhbmNob3IucGVybWFsaW5rLmxpbmtJbnNpZGVIZWFkZXIoe1xuICAgICAgc3ltYm9sOiAnIycsXG4gICAgICByZW5kZXJBdHRyczogKCkgPT4gKHsgJ2FyaWEtaGlkZGVuJzogJ3RydWUnIH0pLFxuICAgIH0pLFxuICB9KVxuXG4gIG1kLnVzZShMaW5rQXR0cmlidXRlcywge1xuICAgIG1hdGNoZXI6IChsaW5rOiBzdHJpbmcpID0+IC9eaHR0cHM/OlxcL1xcLy8udGVzdChsaW5rKSxcbiAgICBhdHRyczoge1xuICAgICAgdGFyZ2V0OiAnX2JsYW5rJyxcbiAgICAgIHJlbDogJ25vb3BlbmVyJyxcbiAgICB9LFxuICB9KVxuXG4gIG1kLnVzZShUT0MsIHtcbiAgICBpbmNsdWRlTGV2ZWw6IFsxLCAyLCAzLCA0LCA1LCA2XSxcbiAgICBzbHVnaWZ5LFxuICB9KVxufVxuIl0sCiAgIm1hcHBpbmdzIjogIjtBQUE0USxPQUFPLFVBQVU7QUFDN1IsU0FBUyxvQkFBb0I7QUFDN0IsT0FBTyxTQUFTO0FBQ2hCLE9BQU8sV0FBVztBQUNsQixPQUFPLHFCQUFxQjtBQUM1QixPQUFPLGFBQWE7QUFDcEIsT0FBTyxnQkFBZ0I7QUFDdkIsT0FBTyxnQkFBZ0I7QUFDdkIsT0FBTyxjQUFjO0FBQ3JCLE9BQU8sYUFBYTtBQUNwQixPQUFPLGFBQWE7QUFD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
